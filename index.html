<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HHizzoo — Dance Bio</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #fff0f6;
      --bg2: #fff9fb;
      --pink: #ff66b2;
      --pink-2: #ff4aa6;
      --accent: #ff66b2;
      --glass: rgba(255,255,255,0.6);
      --txt-dark: #2b2b2b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto;}
    body{
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      overflow:hidden;
      color:var(--txt-dark);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }

    /* background floating blobs */
    .bg{
      position:fixed;inset:0;z-index:0;pointer-events:none;
      background:
        radial-gradient(circle at 10% 20%, rgba(255,102,178,0.12) 0 12%, transparent 20%),
        radial-gradient(circle at 80% 80%, rgba(255,74,166,0.10) 0 14%, transparent 26%),
        radial-gradient(circle at 60% 15%, rgba(255,200,230,0.08) 0 18%, transparent 30%);
      animation: bgMove 18s linear infinite;
      filter: blur(18px) saturate(115%);
    }
    @keyframes bgMove{ 0%{transform:translateY(0)}50%{transform:translateY(-20px)}100%{transform:translateY(0)}}

    /* main card */
    .card{
      z-index:2;
      width:100%;
      max-width:1100px;
      height:80vh;
      background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75));
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      display:grid;
      grid-template-columns:260px 1fr;
      overflow:hidden;
      border: 1px solid rgba(255,102,178,0.06);
    }

    /* sidebar */
    .sidebar{
      padding:24px;
      background:linear-gradient(180deg, rgba(255,250,252,0.65), rgba(255,245,249,0.5));
      border-right:1px dashed rgba(255,102,178,0.06);
    }
    .brand{
      display:flex;gap:12px;align-items:center;margin-bottom:18px;
    }
    .brand img{width:56px;height:56px;border-radius:12px;object-fit:cover;border:3px solid #fff;}
    .brand h3{margin:0;font-size:18px;color:var(--pink);letter-spacing:0.4px}
    .brand p{margin:0;font-size:12px;color:#8b6a78}

    .nav{display:flex;flex-direction:column;gap:12px;margin-top:18px}
    .nav button{
      display:flex;gap:12px;align-items:center;border:0;background:transparent;padding:12px;border-radius:12px;cursor:pointer;
      transition:all .18s ease;font-weight:600;color:#844055;
    }
    .nav button:hover{background:linear-gradient(90deg, rgba(255,102,178,0.06), rgba(255,74,166,0.03));transform:translateX(6px)}
    .nav button.active{background:linear-gradient(90deg, rgba(255,102,178,0.12), rgba(255,74,166,0.06));box-shadow:0 6px 18px rgba(255,102,178,0.06)}

    .nav img{width:22px;height:22px;filter:drop-shadow(0 2px 4px rgba(0,0,0,0.06))}

    /* content area */
    .content{padding:28px;position:relative;overflow:hidden}
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}
    .topbar .title{font-weight:700;color:#5a2540}
    .topbar .small{font-size:13px;color:#7a5566}

    /* dancer hero */
    .hero{
      display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:center;
      margin-bottom:18px;
    }
    .left{
      background:linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,245,249,0.8));
      border-radius:12px;padding:20px;box-shadow:var(--shadow);
      min-height:220px;position:relative;overflow:hidden;
    }
    .intro{
      font-size:28px;font-weight:700;color:#5a2540;margin:0 0 8px;
      display:flex;align-items:center;gap:12px;
    }
    .sub{color:#8b6a78;margin:0 0 14px;font-weight:500}
    .features{display:flex;gap:12px;flex-wrap:wrap}

    .feature{
      background:rgba(255,255,255,0.8);padding:10px 12px;border-radius:10px;border:1px solid rgba(255,102,178,0.06);min-width:140px
    }

    /* right dancer area (avatar + dancing text) */
    .right{
      display:flex;flex-direction:column;gap:12px;align-items:center;
    }
    .avatar{
      width:180px;height:180px;border-radius:18px;background:linear-gradient(135deg,var(--pink),var(--pink-2));
      display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:28px;box-shadow:0 10px 30px rgba(255,102,178,0.12);
    }
    .danceText{
      margin-top:10px;font-weight:800;font-size:22px;color:var(--pink);opacity:0;transform:translateY(8px);
      will-change:transform,opacity;
    }

    /* tabs content */
    .tabs{margin-top:10px}
    .tab-panel{display:none}
    .tab-panel.active{display:block}

    /* videos carousel */
    .carousel{margin-top:12px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,245,249,0.9));border-radius:12px;padding:10px;border:1px solid rgba(255,102,178,0.04)}
    .carousel iframe{width:100%;height:280px;border-radius:10px;border:0}
    .carousel-controls{display:flex;gap:8px;justify-content:center;margin-top:8px}
    .ctrl{padding:8px 12px;border-radius:10px;border:0;background:transparent;cursor:pointer;font-weight:700;color:var(--pink)}
    .thumbs{display:flex;gap:8px;overflow:auto;margin-top:8px;padding-bottom:4px}
    .thumbs img{width:140px;height:78px;border-radius:8px;object-fit:cover;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,0.05)}

    /* overlay click to play */
    #overlay{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:10;
      background:linear-gradient(180deg, rgba(255,255,255,0.0), rgba(255,255,255,0.0));
    }
    #overlay .bubble{
      width:320px;height:120px;border-radius:20px;background:linear-gradient(90deg, rgba(255,255,255,0.9), rgba(255,250,252,0.95));
      display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:var(--shadow);
      backdrop-filter: blur(6px);
      cursor:pointer;border:1px solid rgba(255,102,178,0.08);
      text-align:center;
    }
    .bubble h2{margin:0;font-size:20px;color:var(--pink)}
    .bubble p{margin:6px 0 0;color:#8b6a78;font-weight:600}

    /* beat animation class */
    .beat {
      animation: beatAnim 130ms ease-out;
    }
    @keyframes beatAnim{
      0%{transform:translateY(0) scale(1)}
      50%{transform:translateY(-8px) scale(1.05)}
      100%{transform:translateY(0) scale(1)}
    }

    /* the initial dancing "Dance To The Beat!" that fades out */
    .bigCenter{
      position:absolute;left:50%;top:12%;transform:translateX(-50%);z-index:9;
      text-align:center;pointer-events:none;
    }
    .bigCenter h1{
      font-size:42px;color:var(--pink);margin:6px 0;font-weight:900;text-shadow:0 6px 30px rgba(255,102,178,0.06);
      animation: floaty 2.6s ease-in-out infinite;
      will-change:transform,opacity;
    }
    @keyframes floaty{0%{transform:translate(-50%,0)}50%{transform:translate(-50%,-6px)}100%{transform:translate(-50%,0)}}

    /* responsive */
    @media (max-width:980px){
      .card{grid-template-columns:1fr; height:88vh}
      .hero{grid-template-columns:1fr}
      .avatar{width:140px;height:140px}
      .carousel iframe{height:200px}
    }
  </style>
</head>
<body>
  <div class="bg"></div>

  <div class="card" role="main" aria-label="HHizzoo bio card">
    <aside class="sidebar">
      <div class="brand">
        <!-- icons8 profile placeholder (you can replace with real YouTube profile pic link) -->
        <img src="https://img.icons8.com/ios-filled/100/ff66b2/user-male-circle.png" alt="avatar">
        <div>
          <h3>HHizzoo</h3>
          <p>@hhizzoo • Roblox videos</p>
        </div>
      </div>

      <nav class="nav" role="tablist" aria-label="Main nav">
        <button class="active" data-tab="home"><img src="https://img.icons8.com/ios/50/ff66b2/home.png" alt=""> Home</button>
        <button data-tab="videos"><img src="https://img.icons8.com/ios/50/ff66b2/youtube-play.png" alt=""> Videos</button>
        <button data-tab="bio"><img src="https://img.icons8.com/ios/50/ff66b2/user.png" alt=""> Bio</button>
        <button data-tab="contact"><img src="https://img.icons8.com/ios/50/ff66b2/new-post.png" alt=""> Contact</button>
      </nav>

      <div style="margin-top:18px;font-size:13px;color:#905367">
        <div style="margin-bottom:8px;font-weight:700">Quick Links</div>
        <a href="https://www.youtube.com/@hhizzoo" target="_blank" rel="noopener noreferrer" style="display:inline-block;color:var(--pink);text-decoration:none">YouTube Channel</a>
      </div>
    </aside>

    <section class="content">
      <div class="bigCenter" id="bigCenter">
        <h1 id="danceHero">Dance To The Beat!</h1>
      </div>

      <div class="topbar">
        <div class="title">Welcome — play the track & vibe</div>
        <div class="small">UI dances with the music — pink & white theme</div>
      </div>

      <div class="hero">
        <div class="left">
          <h2 class="intro">Hi — I'm HHizzoo</h2>
          <p class="sub">I make Roblox exploiting videos on YouTube. This is my animated bio page — built to dance with Caramelldansen.</p>

          <div class="features">
            <div class="feature">YouTuber • Roblox content</div>
            <div class="feature">Animated UI</div>
            <div class="feature">Beat-reactive visuals</div>
            <div class="feature">Video carousel</div>
          </div>

          <div class="tabs">
            <div id="home" class="tab-panel active">
              <div class="carousel" aria-live="polite">
                <iframe id="videoFrame" src="" title="Video" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                <div class="carousel-controls">
                  <button id="prev" class="ctrl">Prev</button>
                  <button id="playPause" class="ctrl">Pause</button>
                  <button id="next" class="ctrl">Next</button>
                </div>
                <div class="thumbs" id="thumbs"></div>
              </div>
            </div>

            <div id="videos" class="tab-panel">
              <h3 style="margin-top:0">Latest Videos</h3>
              <div id="videoList"></div>
            </div>

            <div id="bio" class="tab-panel">
              <h3 style="margin-top:0">About Me</h3>
              <p>I upload Roblox-related videos — tutorials, GUI showcases, and remakes. Join my channel for more content and dev progress updates.</p>
            </div>

            <div id="contact" class="tab-panel">
              <h3 style="margin-top:0">Contact</h3>
              <p>Business: <a href="mailto:contact@example.com">contact@example.com</a></p>
            </div>
          </div>
        </div>

        <div class="right">
          <div class="avatar" id="avatar">HH</div>
          <div class="danceText" id="danceText">Dance To The Beat!</div>
          <div style="font-size:13px;color:#7a5566">Click the center to start the song</div>
        </div>
      </div>

      <footer style="font-size:12px;color:#9b6f80;margin-top:6px">Made for GitHub Pages • Pink & White • Icons by Icons8</footer>
    </section>
  </div>

  <!-- overlay for click-to-start -->
  <div id="overlay" role="dialog" aria-label="Click to start audio">
    <div class="bubble" id="clickBubble" tabindex="0">
      <h2>Click...</h2>
      <p>Play — Caramelldansen</p>
    </div>
  </div>

  <!-- audio (local file cool.mp3 must be in same directory) -->
  <audio id="song" src="cool.mp3" crossorigin="anonymous"></audio>

  <script>
    /************* Video IDs seeded from your channel (update as you want) *************
     * I grabbed recent video IDs from your channel to seed this carousel.
     * Replace these IDs with any YouTube video IDs you prefer.
     *******************************************************************************/
    const videoIDs = [
      "DmJ0o3hvRMw",
      "Sodivy483_4",
      "iyRi1RtU-bg",
      "uS2rA97j2T0",
      "lcCnl463SfM"
    ];

    // Elements
    const overlay = document.getElementById('overlay');
    const clickBubble = document.getElementById('clickBubble');
    const songEl = document.getElementById('song');
    const danceText = document.getElementById('danceText');
    const bigCenter = document.getElementById('bigCenter');

    // carousel state
    let current = 0;
    const frame = document.getElementById('videoFrame');
    const thumbs = document.getElementById('thumbs');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const playPause = document.getElementById('playPause');

    // build thumbs and set first video
    function setupVideos(){
      thumbs.innerHTML = "";
      videoIDs.forEach((id, i) => {
        const thumb = document.createElement('img');
        thumb.src = `https://img.youtube.com/vi/${id}/hqdefault.jpg`;
        thumb.alt = "video " + (i+1);
        thumb.addEventListener('click', ()=>{ current = i; loadCurrent(); });
        thumbs.appendChild(thumb);
      });
      loadCurrent();
    }
    function loadCurrent(){
      frame.src = `https://www.youtube.com/embed/${videoIDs[current]}?rel=0&modestbranding=1&autoplay=1`;
      // highlight thumb visually by adding a soft border
      Array.from(thumbs.children).forEach((t,idx)=> t.style.outline = idx===current ? "3px solid rgba(255,102,178,0.12)" : "none");
    }

    prevBtn.addEventListener('click', ()=>{ current = (current-1 + videoIDs.length) % videoIDs.length; loadCurrent(); });
    nextBtn.addEventListener('click', ()=>{ current = (current+1) % videoIDs.length; loadCurrent(); });

    let playing = true;
    playPause.addEventListener('click', ()=>{
      if(playing){ songEl.pause(); playPause.textContent = "Play"; playing=false }
      else { songEl.play(); playPause.textContent = "Pause"; playing=true }
    });

    setupVideos();

    // Tabs
    document.querySelectorAll('.nav button').forEach(btn=>{
      btn.addEventListener('click', e=>{
        document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        const tab = btn.dataset.tab;
        document.querySelectorAll('.tab-panel').forEach(p=>p.classList.remove('active'));
        document.getElementById(tab).classList.add('active');
      });
    });

    // initial dance headline fade-out after a few beats
    function fadeOutHero(){
      bigCenter.style.transition = "opacity 700ms ease, transform 700ms ease";
      bigCenter.style.opacity = 0;
      bigCenter.style.transform = "translateX(-50%) translateY(-20px) scale(.98)";
      setTimeout(()=>bigCenter.remove(),900);
    }

    // Beat detection using Web Audio API
    let audioCtx, source, analyser, dataArray, bufferLength;
    let lastBeat = 0;
    let threshold = 170; // initial threshold for peak
    let cooldown = 260; // ms between beats

    function setupAudioProcessing(){
      try{
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        source = audioCtx.createMediaElementSource(songEl);
        analyser = audioCtx.createAnalyser();
        analyser.fftSize = 512;
        bufferLength = analyser.frequencyBinCount;
        dataArray = new Uint8Array(bufferLength);
        source.connect(analyser);
        analyser.connect(audioCtx.destination);
        // start the beat loop
        requestAnimationFrame(beatLoop);
      }catch(e){
        console.warn("AudioContext failed:", e);
      }
    }

    function beatLoop(){
      analyser.getByteFrequencyData(dataArray);
      // compute average energy
      let sum = 0;
      for(let i=0;i<dataArray.length;i++) sum += dataArray[i];
      const avg = sum / dataArray.length;
      // adaptive threshold smoothing
      threshold = threshold*0.95 + avg*0.05 + 10;
      const now = performance.now();
      if(avg > threshold && (now - lastBeat) > cooldown){
        lastBeat = now;
        popBeat();
      }
      requestAnimationFrame(beatLoop);
    }

    function popBeat(){
      // add .beat to a few elements to animate
      document.querySelectorAll('.avatar, .feature, .nav button.active, .card, .intro').forEach(el=>{
        el.classList.remove('beat');
        void el.offsetWidth;
        el.classList.add('beat');
      });
      // small dancer text pop
      danceText.style.opacity = 1;
      danceText.style.transform = "translateY(-6px)";
      setTimeout(()=>{ danceText.style.opacity = .95; danceText.style.transform = "translateY(0)"; }, 160);
    }

    // overlay click starts audio and audio processing
    function startExperience(){
      overlay.remove();
      songEl.play().catch(()=>{ /* may be blocked if not user gesture; but click just happened */ });
      if(!audioCtx) setupAudioProcessing();
      // fade hero text after 3 seconds
      setTimeout(()=>fadeOutHero(), 3000);
    }

    clickBubble.addEventListener('click', startExperience);
    clickBubble.addEventListener('keydown', (e)=>{ if(e.key === "Enter") startExperience(); });

    // make sure clicking any control resumed the audio context (mobile / browsers)
    document.addEventListener('click', ()=>{ if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume(); });

    // small visual: animate danceText on page load to invite click
    (function introPulse(){
      const el = document.getElementById('danceHero');
      let up = true;
      setInterval(()=>{
        el.style.transform = up ? "translateX(-50%) scale(1.06)" : "translateX(-50%) scale(1)";
        up = !up;
      }, 700);
    })();

    // Populate 'Latest Videos' list (simple)
    const videoList = document.getElementById('videoList');
    videoList.innerHTML = videoIDs.map(id => {
      const url = `https://www.youtube.com/watch?v=${id}`;
      return `<div style="margin-bottom:8px;padding:8px;border-radius:8px;background:linear-gradient(90deg,rgba(255,255,255,0.95),rgba(255,245,249,0.9));display:flex;gap:10px;align-items:center">
        <img src="https://img.youtube.com/vi/${id}/mqdefault.jpg" style="width:160px;height:90px;border-radius:8px;object-fit:cover">
        <div>
          <div style="font-weight:700;color:#5a2540">Video</div>
          <div style="font-size:13px;color:#8b6a78;margin-top:6px">From your channel — <a href="${url}" target="_blank" rel="noopener noreferrer">Watch on YouTube</a></div>
        </div>
      </div>`;
    }).join("");

    // small safety: if cool.mp3 isn't found, show overlay message in console
    songEl.addEventListener('error', ()=> console.warn("Could not load cool.mp3 — make sure file is in same folder and named cool.mp3"));

    // ensure mobile friendly controls: stop video autoplay on mobile if needed
    frame.addEventListener('load', ()=>{ /* no-op */ });

    // Accessibility focus style
    clickBubble.addEventListener('focus', ()=> clickBubble.style.outline = '3px solid rgba(255,102,178,0.12)');
    clickBubble.addEventListener('blur', ()=> clickBubble.style.outline = 'none');

    // small tweak: animate the avatar initials into loaded avatar
    (function setAvatar(){
      const a = document.getElementById('avatar');
      // if you have a YouTube profile image url, replace the src creation above.
      a.textContent = "HH";
      a.style.fontSize = "36px";
    })();

    // Start with small visual pulse on overlay bubble
    setInterval(()=> {
      clickBubble.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:1200,iterations:1});
    },1600);
  </script>
</body>
</html>
